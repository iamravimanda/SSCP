<div id="devices" class="page-layout carded fullwidth inner-scroll" fusePerfectScrollbar>
    <!-- TOP BACKGROUND -->
    <div class="top-bg accent"></div>
    <!-- / TOP BACKGROUND -->
    <!-- CENTER -->
    <div class="center">
        <!-- CONTENT CARD -->
        <div style="background-color:transparent;border: none;box-shadow: none;">
            <!-- HEADER -->
            <div class="header accent-600 p-16 header-top-padding" fxLayout="column" *ngIf="!hasSelectedDevices" fxLayoutAlign="start"
                fxLayout.gt-xs="row" fxLayoutAlign.gt-xs="flex-end" style="align-items: flex-end;">
                <!-- APP TITLE -->
                <div fxLayout="row" fxLayoutAlign="start center" class="hdr">

                    <div class="logo mt-12" fxLayout="row" fxLayoutAlign="start center">
                        <button mat-icon-button class="sidebar-toggle mr-12" fxHide.gt-sm
                            (click)="toggleSidebar('devices-main-sidebar')">
                            <mat-icon>menu</mat-icon>
                        </button>

                        <span class="logo-text h1  heading-res"
                            [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                            <b>Device Management</b>
                        </span>
                    </div>
                    <div fxLayout="row" fxLayoutAlign="center center" fxFlex class="hdr-form" style="width: 200px;">

                        <!-- <div class="no-search mt-16 mt-sm-0">
                            <div class="element" fxFlex fxLayout="row" fxLayoutAlign="start center">

                                <mat-select (selectionChange)="deviceTypeChange($event.value)"
                                    placeholder="Select Device Type">
                                    <mat-option *ngFor="let devicetype of deviceType" [value]="devicetype">
                                        {{devicetype}}
                                    </mat-option>
                                </mat-select>
                            </div>
                        </div> -->


                    </div>
                </div>
                <!-- / APP TITLE -->
                <!-- SEARCH -->
                <div class="ml-sm-32" fxLayout="row" fxLayoutAlign="end end" fxFlex>
                    <!-- <div class=" mt-16 mt-sm-0" style="margin-right: 15px;">
                        <label for="tenant" style=" display: inline-block; margin-bottom: .5rem;margin-left: 1rem;">Company Name</label>
                        <div class="no-search">
                            <div class="element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                                
                                <input
                                id="name"   
                                #nameInput                                 
                                placeholder="Name"
                                aria-label="Name"
                                matInput
                                [formControl]="NameControl"
                                [matAutocomplete]="auto"  
                            />
                        
                        <mat-autocomplete
                            #auto="matAutocomplete"
                            [displayWith]="displayFn"  
                            (optionSelected)="tenantChange($event.option.value)">
                            <mat-option
                                *ngFor="
                                    let option of filteredOptions
                                        | async
                                "
                                [value]="option.name"
                            >
                                {{ option.name }}
                            </mat-option>
                        </mat-autocomplete>
                            </div>
                        </div>
                    </div> -->
                    <div class="p-tb-10" style="margin-right: 5px;width: 250px;">

                        <label for="search"
                            style=" display: inline-block; margin-bottom: .5rem;margin-left: 1rem;">Company</label>
                        <div class="search-wrapper mt-16 mt-sm-0" style="padding: 0px 5px;">

                            <div class="search" fxFlex fxLayout="row" fxLayoutAlign="start center">

                                <mat-form-field style="position: relative;">
                                <input
                                id="name"   
                                #nameInput                                 
                                placeholder="Name"
                                aria-label="Name"
                                matInput
                                [formControl]="NameControl"
                                [matAutocomplete]="auto" 
                                (keydown)="onKeydown($event)" 
                            />
                                <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                                </mat-form-field>
                                <mat-autocomplete
                                #auto="matAutocomplete"
                                [displayWith]="displayFn"  
                                (optionSelected)="tenantChange($event.option.value)">
                                <mat-option
                                    *ngFor="
                                        let option of filteredOptions
                                            | async
                                    "
                                    [value]="option.name"
                                >
                                    {{ option.name }}
                                </mat-option>
                            </mat-autocomplete>

                            </div>
                        </div>
                    </div>
                    <div class="search-wrapper mt-16 mt-sm-0" style="padding: 0px 5px;">
                        <label for="search" style=" display: inline-block; margin-bottom: .5rem;margin-left: 1rem;">Search</label>
                        <div class="search" fxFlex fxLayout="row" fxLayoutAlign="start center">
                            <mat-icon>search</mat-icon>
                            <input [formControl]="searchInput" id="search" (keyup)="applyFilter($event.target.value)"
                                placeholder="Search">
                        </div>
                    </div>

                </div>
                <!-- / SEARCH -->
            </div>
            <!-- / HEADER -->
            <div class="content" fusePerfectScrollbar>
            <!-- SELECTED BAR -->
            <app-selected-bar class="accent-600" *ngIf="hasSelectedDevices" [@slideInTop]></app-selected-bar>
            <!-- / SELECTED BAR -->
            <div fxLayout="column" fxLayoutAlign="start" fxLayout.gt-sm="row" fxLayoutAlign.gt-sm="start start">
                <div fxFlex="100" fxFlex.gt-sm="310px" style="box-shadow: none;">
                    <fuse-sidebar class="sidebar" name="devices-main-sidebar" position="left" lockedOpen="gt-sm"
                        style="background-color:transparent;box-shadow: none !important;">

                        <!-- SIDEBAR CONTENT -->
                        <div class="content" >
                            <devices-main-sidebar [@animate]="{value:'*'}"></devices-main-sidebar>
                        </div>
                        <!-- / SIDEBAR CONTENT -->

                    </fuse-sidebar>
                </div>
                <div fxFlex="100" fxFlex.gt-sm="100%" position="right" fusePerfectScrollbar style="border-radius: 6px !important;">
                    <!-- / SIDEBAR -->
                    <devices-device-list>
                    </devices-device-list>
                </div>
            </div>
        </div>
        </div>
    </div>
</div>